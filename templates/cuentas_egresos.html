{% extends "base.html" %}
{% block title %}Egresos generales{% endblock %}

{% block content %}
<div class="row justify-content-center mt-5">
  <div class="col-8">
    <form id="formFiltros" class="row g-3">
      <div class="col-md-4">
        <label for="concepto" class="form-label text-light">Concepto:</label>
        <input type="text" class="form-control" id="concepto" name="concepto">
      </div>

      <div class="col-md-4">
        <label for="beneficiario" class="form-label text-light">Beneficiario:</label>
        <input type="text" class="form-control" id="beneficiario" name="beneficiario">
      </div>

      <div class="col-md-4">
        <label for="status" class="form-label text-light">Mes:</label>
        <select name="mes_nombre" class="form-select" id="mes_nombre">
          <option value=""></option>
          {% for mes in ["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"] %}
            <option value="{{ mes }}">{{ mes }}</option>
          {% endfor %}
        </select>
      </div>

      <div class="col-12">
        <button type="submit" class="btn btn-info">Buscar</button>
      </div>
    </form>
  </div>
</div>

<div id="resultado" class="mt-4"></div>
{% endblock %}

{% block scripts %}
  {{ super() }} 
<script>
document.getElementById("formFiltros").addEventListener("submit", async (e) => {
  e.preventDefault();
  const formData = new FormData(e.target);
  const response = await fetch("/filtro_egresos", { method: "POST", body: formData });
  const html = await response.text();
  document.getElementById("resultado").innerHTML = html;
});
</script>
{% endblock %}